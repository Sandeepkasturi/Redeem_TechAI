---
import Layout from '../layouts/Layout.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import Generator from '../components/Generator'
import BackTop from '../components/BackTop.astro'
import '../message.css'
import 'katex/dist/katex.min.css'
import 'highlight.js/styles/atom-one-dark.css'
---

<Layout title="Redeem_Tech AI">
  <head>
    <link rel="shortcut icon" type="image/ico" href="/https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdWGYCkiGYb-I9o6Q3wpqoXZswtmkJIblX8mJonF5c0bkFs4BojmRfr2Ikbtq1N8z3dWMiar8KMhAg4M1P2pdIu3kkLIRXvg3nE1Nno3J4HmYwiABo2cQNM-TYni84WxjneZyp7QX_t57WLDkRnuv2g4ubaHKE40OrRmA-h-ImPoYkOr81hnMZKuyg1g/s1600/f5898f993f06df8916ce6bcfb69d68b3.ico"
    </head>
  <main >
    <Header />
    <Generator client:load />

    <BackTop/>
  </main>
</Layout>

<script>
async function checkCurrentAuth() {
  const password = localStorage.getItem('pass')
  const response = await fetch('/api/auth', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      pass: password,
    }),
  })
  const responseJson = await response.json()
  if (responseJson.code !== 0)
    window.location.href = '/password'
}
checkCurrentAuth()
</script>
